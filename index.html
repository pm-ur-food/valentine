<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üíò Question for Shang</title>
  <style>
    :root{
      --pink1:#ffd0e6;
      --pink2:#ffb8dd;
      --pink3:#ff8fc7;
      --text:#4b2a3b;
      --btn:#ff3b8a;
      --btn2:#ff5fa3;
      --shadow: 0 20px 50px rgba(0,0,0,.18);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      overflow:hidden;
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(255,255,255,.55), transparent 60%),
        radial-gradient(900px 500px at 80% 30%, rgba(255,255,255,.45), transparent 60%),
        linear-gradient(135deg, var(--pink1), var(--pink2), var(--pink3));
    }

    /* Floating photo layer */
    .float-layer{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:1;
    }

    .float-img{
      position:absolute;
      transform: translate(-50%,-50%) rotate(var(--r));
      width: 420px;
      height: 420px;
      border-radius: 34px;
      object-fit: cover;

      /* Make them CLEAR + present */
      opacity: 0.95;
      filter: saturate(1.25) contrast(1.10) brightness(1.02);

      box-shadow: 0 40px 90px rgba(0,0,0,.28);
      animation: drift var(--dur) ease-in-out infinite alternate;

      /* IMPORTANT: no background -> no ‚Äúblank box‚Äù if fail */
      background: none;
    }

    @keyframes drift{
      from{ transform: translate(-50%,-50%) rotate(var(--r)) scale(1); }
      to  { transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) rotate(var(--r)) scale(1.05); }
    }

    /* Center card */
    .wrap{
      position:relative;
      min-height:100vh;
      display:grid;
      place-items:center;
      padding:28px;
      z-index:2;
    }

    .card{
      width:min(900px, 96vw);
      text-align:center;
      padding:44px 26px 34px;
      border-radius:28px;
      background: rgba(255,255,255,.72);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.65);
    }

    .top-emoji{
      font-size:46px;
      margin-bottom:12px;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.18));
    }

    h1{
      margin:0;
      font-size: clamp(20px, 3vw, 30px);
      font-weight:800;
      letter-spacing:.2px;
    }

    .big-question{
      margin:18px auto 26px;
      width:min(720px, 100%);
      padding:22px 18px;
      border-radius:22px;
      background:#fff;
      box-shadow: 0 14px 30px rgba(0,0,0,.12);
      border: 1px solid rgba(0,0,0,.05);
      font-size: clamp(28px, 4.6vw, 56px);
      font-family: ui-rounded, "Segoe UI", system-ui;
      color:#ff2c84;
      font-weight:900;
    }

    .btn-row{
      position:relative;
      display:flex;
      justify-content:center;
      gap:18px;
      align-items:center;
      min-height:110px;
      margin-top:12px;
    }

    a, button{ font:inherit; }

    .btn{
      border:0;
      cursor:pointer;
      padding:16px 28px;
      border-radius:999px;
      font-weight:900;
      font-size:18px;
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{ transform: scale(.98); }

    .yes{
      background: linear-gradient(135deg, var(--btn), var(--btn2));
      color:white;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      box-shadow: 0 16px 30px rgba(255, 59, 138, .30);
    }

    .no{
      position:absolute;
      left: 18%;
      top: 16px;
      background: rgba(80,95,110,.60);
      color:white;
      box-shadow: 0 14px 24px rgba(0,0,0,.14);
      padding:14px 26px;
      font-weight:900;
      border: 1px solid rgba(255,255,255,.35);
    }

    .tiny{
      margin-top: 16px;
      font-style: italic;
      opacity:.85;
      font-size: 15px;
    }

    @media (max-width: 700px){
      .float-img{ width:300px; height:300px; border-radius:26px; }
    }
  </style>
</head>
<body>
  <div class="float-layer" id="floatLayer" aria-hidden="true"></div>

  <main class="wrap">
    <section class="card">
      <div class="top-emoji">üíò</div>
      <h1>Hey Shang, I have a very important question for you...</h1>

      <div class="big-question">Will you be my Valentine?</div>

      <div class="btn-row" id="btnRow">
        <a class="btn yes" href="./yes.html">Yes ‚ú®</a>
        <button class="btn no" id="noBtn" type="button">No üò¢</button>
      </div>

      <div class="tiny">The No button is shy! üôà</div>
    </section>
  </main>

  <script>
    const layer = document.getElementById("floatLayer");

    function rand(min, max){ return Math.random()*(max-min)+min; }

    // Fixed positions so all 6 are clearly visible
    const positions = [
      { left: 10, top: 24, r: -8 },
      { left: 18, top: 78, r: 10 },
      { left: 78, top: 18, r: 10 },
      { left: 90, top: 62, r: -10 },
      { left: 58, top: 90, r: 8 },
      { left: 48, top: 40, r: -12 }
    ];

    // IMPORTANT: use ./photos so GitHub Pages under /valentine/ always works
    const srcs = [
      "./photos/1.jpg",
      "./photos/2.jpg",
      "./photos/3.jpg",
      "./photos/4.jpg",
      "./photos/5.jpg",
      "./photos/6.jpg"
    ];

    function addPhoto(src, i){
      const img = document.createElement("img");
      img.className = "float-img";
      img.loading = "eager";

      // Fallback for case issues (.JPG)
      img.onerror = () => {
        if (!src.endsWith(".JPG")) img.src = src.replace(".jpg", ".JPG");
      };

      img.src = src;

      const p = positions[i];
      img.style.left = p.left + "%";
      img.style.top  = p.top  + "%";
      img.style.setProperty("--r", p.r + "deg");
      img.style.setProperty("--dx", rand(-120, 120) + "px");
      img.style.setProperty("--dy", rand(-100, 100) + "px");
      img.style.setProperty("--dur", rand(7.5, 12.5) + "s");

      // big sizes
      const size = rand(360, 520);
      img.style.width  = size + "px";
      img.style.height = size + "px";

      layer.appendChild(img);
    }

    for(let i=0; i<6; i++){
      addPhoto(srcs[i], i);
    }

    // ‚ÄúNo‚Äù button dodges the cursor/tap
    const noBtn = document.getElementById("noBtn");
    const row = document.getElementById("btnRow");

    function moveNoButton(){
      const rowRect = row.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const padding = 10;
      const maxX = rowRect.width - btnRect.width - padding;
      const maxY = rowRect.height - btnRect.height - padding;

      const x = Math.max(padding, Math.random() * maxX);
      const y = Math.max(padding, Math.random() * maxY);

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
    }

    document.addEventListener("mousemove", (e) => {
      const b = noBtn.getBoundingClientRect();
      const cx = b.left + b.width/2;
      const cy = b.top + b.height/2;
      const dist = Math.hypot(e.clientX - cx, e.clientY - cy);
      if(dist < 150) moveNoButton();
    });

    noBtn.addEventListener("mouseenter", moveNoButton);
    noBtn.addEventListener("focus", moveNoButton);
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      moveNoButton();
    }, {passive:false});

    requestAnimationFrame(() => moveNoButton());
  </script>
</body>
</html>
