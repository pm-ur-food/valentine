<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üíò Question for Shang</title>
  <style>
    :root{
      --pink1:#ffd0e6;
      --pink2:#ffb8dd;
      --pink3:#ff8fc7;
      --text:#4b2a3b;
      --btn:#ff3b8a;
      --btn2:#ff5fa3;
      --shadow: 0 20px 50px rgba(0,0,0,.18);
    }
    *{box-sizing:border-box}

    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      overflow:hidden;
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(255,255,255,.55), transparent 60%),
        radial-gradient(900px 500px at 80% 30%, rgba(255,255,255,.45), transparent 60%),
        linear-gradient(135deg, var(--pink1), var(--pink2), var(--pink3));
    }

    /* Make the background photos POP (less washed out) */
    .bg-tint{
      position:fixed; inset:0;
      background: rgba(255, 120, 190, 0.10);
      pointer-events:none;
      z-index:0;
    }

    /* Floating photo layer */
    .float-layer{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:1;
    }

    .float-img{
      position:absolute;
      width:420px;
      height:420px;
      border-radius:34px;
      object-fit:cover;

      /* clearer + punchier */
      opacity: 0.92;
      filter: saturate(1.20) contrast(1.08) brightness(1.02);

      box-shadow: 0 40px 90px rgba(0,0,0,.28);
      transform: translate(-50%,-50%);
      animation: drift var(--dur) ease-in-out infinite alternate;

      /* helps avoid ‚Äúghost‚Äù look */
      background: rgba(255,255,255,.15);
    }

    @keyframes drift{
      from{
        transform: translate(-50%,-50%) rotate(var(--r1)) scale(1);
      }
      to{
        transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) rotate(var(--r2)) scale(1.05);
      }
    }

    /* Center card */
    .wrap{
      position:relative;
      min-height:100vh;
      display:grid;
      place-items:center;
      padding:28px;
      z-index:2;
    }

    .card{
      width:min(900px, 96vw);
      text-align:center;
      padding:44px 26px 34px;
      border-radius:28px;

      /* slightly more solid so text stays readable */
      background: rgba(255,255,255,.70);
      backdrop-filter: blur(12px);

      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.65);
    }

    .top-emoji{
      font-size:46px;
      margin-bottom:12px;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.18));
    }

    h1{
      margin:0;
      font-size: clamp(20px, 3vw, 30px);
      font-weight:800;
      letter-spacing:.2px;
    }

    .big-question{
      margin:18px auto 26px;
      width:min(720px, 100%);
      padding:22px 18px;
      border-radius:22px;
      background:#fff;
      box-shadow: 0 14px 30px rgba(0,0,0,.12);
      border: 1px solid rgba(0,0,0,.05);
      font-size: clamp(28px, 4.6vw, 56px);
      font-family: ui-rounded, "Segoe UI", system-ui;
      color:#ff2c84;
      font-weight:900;
    }

    .btn-row{
      position:relative;
      display:flex;
      justify-content:center;
      gap:18px;
      align-items:center;
      min-height:110px;
      margin-top:12px;
    }

    a, button{ font:inherit; }

    .btn{
      border:0;
      cursor:pointer;
      padding:16px 28px;
      border-radius:999px;
      font-weight:900;
      font-size:18px;
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{ transform: scale(.98); }

    .yes{
      background: linear-gradient(135deg, var(--btn), var(--btn2));
      color:white;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      box-shadow: 0 16px 30px rgba(255, 59, 138, .30);
    }
    .yes:hover{ filter: brightness(1.03); }

    .no{
      position:absolute;
      left: 18%;
      top: 16px;
      background: rgba(80,95,110,.60);
      color:white;
      box-shadow: 0 14px 24px rgba(0,0,0,.14);
      padding:14px 26px;
      font-weight:900;
      border: 1px solid rgba(255,255,255,.35);
    }

    .tiny{
      margin-top: 16px;
      font-style: italic;
      opacity:.85;
      font-size: 15px;
    }

    /* Mobile: slightly smaller photos so they still fit nicely */
    @media (max-width: 700px){
      .float-img{ width:300px; height:300px; border-radius:26px; }
    }
  </style>
</head>
<body>
  <div class="bg-tint" aria-hidden="true"></div>
  <div class="float-layer" id="floatLayer" aria-hidden="true"></div>

  <main class="wrap">
    <section class="card">
      <div class="top-emoji">üíò</div>
      <h1>Hey Shang, I have a very important question for you...</h1>

      <div class="big-question">Will you be my Valentine?</div>

      <div class="btn-row" id="btnRow">
        <a class="btn yes" href="./yes.html">Yes ‚ú®</a>
        <button class="btn no" id="noBtn" type="button">No üò¢</button>
      </div>

      <div class="tiny">The No button is shy! üôà</div>
    </section>
  </main>

  <script>
    // We will load EXACTLY 6 photos.
    // This loader tries .jpg first, then .JPG if it fails (fixes empty boxes from case mismatch).
    const photoIds = [1,2,3,4,5,6];

    const layer = document.getElementById("floatLayer");

    function rand(min, max){ return Math.random()*(max-min)+min; }

    // Fixed ‚Äúnice‚Äù positions so they‚Äôre always visible + spread out
    const positions = [
      { left: 12, top: 22, rot1: -10, rot2: 12 },
      { left: 30, top: 70, rot1: 8,  rot2: -14 },
      { left: 72, top: 18, rot1: 12, rot2: -10 },
      { left: 86, top: 58, rot1: -8, rot2: 10 },
      { left: 55, top: 86, rot1: 10, rot2: -12 },
      { left: 48, top: 38, rot1: -12, rot2: 14 }
    ];

    function createFloatingPhoto(src, i){
      const img = document.createElement("img");
      img.className = "float-img";
      img.src = src;

      const p = positions[i % positions.length];

      img.style.left = p.left + "%";
      img.style.top  = p.top  + "%";

      img.style.setProperty("--dx", rand(-120, 120) + "px");
      img.style.setProperty("--dy", rand(-100, 100) + "px");
      img.style.setProperty("--dur", rand(7.0, 12.0) + "s");
      img.style.setProperty("--r1", p.rot1 + "deg");
      img.style.setProperty("--r2", p.rot2 + "deg");

      // Randomize size a bit (still BIG)
      const size = rand(320, 480);
      img.style.width  = size + "px";
      img.style.height = size + "px";

      layer.appendChild(img);
    }

    // Try loading each photo with fallback case (.jpg -> .JPG)
    function loadWithFallback(n, i){
      const jpg = `photos/${n}.jpg`;
      const JPG = `photos/${n}.JPG`;

      const test = new Image();
      test.onload = () => createFloatingPhoto(jpg, i);
      test.onerror = () => createFloatingPhoto(JPG, i);
      test.src = jpg;
    }

    photoIds.forEach((n, i) => loadWithFallback(n, i));

    // ‚ÄúNo‚Äù button dodges the cursor/tap
    const noBtn = document.getElementById("noBtn");
    const row = document.getElementById("btnRow");

    function moveNoButton(){
      const rowRect = row.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const padding = 10;
      const maxX = rowRect.width - btnRect.width - padding;
      const maxY = rowRect.height - btnRect.height - padding;

      const x = Math.max(padding, Math.random() * maxX);
      const y = Math.max(padding, Math.random() * maxY);

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
    }

    document.addEventListener("mousemove", (e) => {
      const b = noBtn.getBoundingClientRect();
      const cx = b.left + b.width/2;
      const cy = b.top + b.height/2;
      const dist = Math.hypot(e.clientX - cx, e.clientY - cy);
      if(dist < 150) moveNoButton();
    });

    noBtn.addEventListener("mouseenter", moveNoButton);
    noBtn.addEventListener("focus", moveNoButton);
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      moveNoButton();
    }, {passive:false});

    requestAnimationFrame(() => moveNoButton());
  </script>
</body>
</html>
